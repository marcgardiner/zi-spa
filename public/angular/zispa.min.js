(function(){angular.module("zispaApp",["ngRoute"]);function e(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/about",{templateUrl:"/common/views/genericText.view.html",controller:"aboutCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode(true)}angular.module("zispaApp").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("zispaApp").controller("homeCtrl",e);e.$inject=["$scope","zispaData","geolocation"];function e(e,n,t){var i=this;i.pageHeader={title:"zispa",strapline:"Find places to work with wifi near you"};i.sidebar={content:"Looking for wifi and a seat etc etc"};i.message="Checking your location";i.getData=function(e){var t=e.coords.latitude,o=e.coords.logitude;i.message="Searching for nearby places";n.locationByCoords(t,o).success(function(e){i.message=e.length>0?"":"No locations found nearby";i.data={location:e}}).error(function(e){i.message="Sorry, something's gone wrong"})};i.showError=function(e){i.$apply(function(){i.message=e.message})};i.noGeo=function(){i.$apply(function(){i.message="Geolocation is not supported by this browser."})};t.getPosition(i.getData,i.showError,i.noGeo)}})();(function(){angular.module("zispaApp").controller("aboutCtrl",e);function e(){var e=this;e.pageHeader={title:"About ZI-spa"};e.main={content:"ZI-spa was created to help people find places to sit down and get a bit of work done.\n\n Lorem ipsum dolor sit amet, consectetur adipiscing elit."}}})();(function(){angular.module("zispaApp").service("geolocation",e);function e(){var e=function(e,t,o){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(e,t)}else{o()}};return{getPosition:e}}})();(function(){angular.module("zispaApp").service("zispaData",e);e.$inject=["$http"];function e(o){var e=function(e,t){return o.get("/api/locations?lng="+t+"&lat="+e+"&maxDistance=20")};return{locationByCoords:e}}})();(function(){angular.module("zispaApp").filter("formatDistance",e);var n=function(e){return!isNan(parseFloat(e))&&isFinite(e)};function e(){return function(e){var t,o;if(e&&n(e)){if(e>1){t=parseFloat(e).toFixed(1);o="km"}else{t=parseInt(e*1e3,10);o="m"}return t+o}else{return"?"}}}})();(function(){angular.module("zispaApp").filter("addHtmlLineBreaks",e);function e(){return function(e){var t=e.replace(/\n/g,"<br/>");return t}}})();(function(){angular.module("zispaApp").directive("ratingStars",e);function e(){return{restrict:"EA",scope:{thisRating:"=rating"},templateUrl:"/common/directives/ratingStars/ratingStars.template.html"}}})();(function(){angular.module("zispaApp").directive("footerGeneric",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/footerGeneric.template.html"}}})();(function(){angular.module("zispaApp").directive("navigation",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}})();(function(){angular.module("zispaApp").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"common/directives/pageHeader/pageHeader.template.html"}}})();